(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[13],{348:function(e,t,n){"use strict";var a=n(12),r=n(5),i=n(1),c=(n(9),n(13)),s=n(19),o=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var u=i.forwardRef((function(e,t){var n=e.alignContent,s=void 0===n?"stretch":n,o=e.alignItems,l=void 0===o?"stretch":o,d=e.classes,u=e.className,b=e.component,j=void 0===b?"div":b,m=e.container,h=void 0!==m&&m,p=e.direction,f=void 0===p?"row":p,x=e.item,O=void 0!==x&&x,g=e.justify,v=void 0===g?"flex-start":g,w=e.lg,y=void 0!==w&&w,C=e.md,N=void 0!==C&&C,k=e.sm,S=void 0!==k&&k,P=e.spacing,E=void 0===P?0:P,W=e.wrap,I=void 0===W?"wrap":W,B=e.xl,T=void 0!==B&&B,R=e.xs,M=void 0!==R&&R,q=e.zeroMinWidth,z=void 0!==q&&q,U=Object(a.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),K=Object(c.a)(d.root,u,h&&[d.container,0!==E&&d["spacing-xs-".concat(String(E))]],O&&d.item,z&&d.zeroMinWidth,"row"!==f&&d["direction-xs-".concat(String(f))],"wrap"!==I&&d["wrap-xs-".concat(String(I))],"stretch"!==l&&d["align-items-xs-".concat(String(l))],"stretch"!==s&&d["align-content-xs-".concat(String(s))],"flex-start"!==v&&d["justify-xs-".concat(String(v))],!1!==M&&d["grid-xs-".concat(String(M))],!1!==S&&d["grid-sm-".concat(String(S))],!1!==N&&d["grid-md-".concat(String(N))],!1!==y&&d["grid-lg-".concat(String(y))],!1!==T&&d["grid-xl-".concat(String(T))]);return i.createElement(j,Object(r.a)({className:K,ref:t},U))})),b=Object(s.a)((function(e){return Object(r.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return o.forEach((function(a){var r=e.spacing(a);0!==r&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(d(r,2)),width:"calc(100% + ".concat(d(r),")"),"& > $item":{padding:d(r,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};l.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(r.a)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(u);t.a=b},349:function(e,t,n){"use strict";var a=n(5),r=n(12),i=n(1),c=(n(9),n(13)),s=n(19),o=n(329),l=i.forwardRef((function(e,t){var n=e.action,s=e.avatar,l=e.classes,d=e.className,u=e.component,b=void 0===u?"div":u,j=e.disableTypography,m=void 0!==j&&j,h=e.subheader,p=e.subheaderTypographyProps,f=e.title,x=e.titleTypographyProps,O=Object(r.a)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),g=f;null==g||g.type===o.a||m||(g=i.createElement(o.a,Object(a.a)({variant:s?"body2":"h5",className:l.title,component:"span",display:"block"},x),g));var v=h;return null==v||v.type===o.a||m||(v=i.createElement(o.a,Object(a.a)({variant:s?"body2":"body1",className:l.subheader,color:"textSecondary",component:"span",display:"block"},p),v)),i.createElement(b,Object(a.a)({className:Object(c.a)(l.root,d),ref:t},O),s&&i.createElement("div",{className:l.avatar},s),i.createElement("div",{className:l.content},g,v),n&&i.createElement("div",{className:l.action},n))}));t.a=Object(s.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(l)},350:function(e,t,n){"use strict";var a=n(5),r=n(12),i=n(1),c=(n(9),n(13)),s=n(329),o=n(19),l=n(468),d=i.forwardRef((function(e,t){var n=e.children,o=e.classes,d=e.className,u=e.component,b=void 0===u?"div":u,j=e.disablePointerEvents,m=void 0!==j&&j,h=e.disableTypography,p=void 0!==h&&h,f=e.position,x=e.variant,O=Object(r.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),g=Object(l.b)()||{},v=x;return x&&g.variant,g&&!v&&(v=g.variant),i.createElement(l.a.Provider,{value:null},i.createElement(b,Object(a.a)({className:Object(c.a)(o.root,d,m&&o.disablePointerEvents,g.hiddenLabel&&o.hiddenLabel,"filled"===v&&o.filled,{start:o.positionStart,end:o.positionEnd}[f],"dense"===g.margin&&o.marginDense),ref:t},O),"string"!==typeof n||p?n:i.createElement(s.a,{color:"textSecondary"},n)))}));t.a=Object(o.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(d)},351:function(e,t,n){"use strict";var a=n(5),r=n(12),i=n(1),c=(n(9),n(13)),s=n(137),o=n(19),l=i.forwardRef((function(e,t){var n=e.classes,o=e.className,l=e.raised,d=void 0!==l&&l,u=Object(r.a)(e,["classes","className","raised"]);return i.createElement(s.a,Object(a.a)({className:Object(c.a)(n.root,o),elevation:d?8:1,ref:t},u))}));t.a=Object(o.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(l)},353:function(e,t,n){"use strict";var a=n(5),r=n(12),i=n(1),c=(n(9),n(13)),s=n(19),o=i.forwardRef((function(e,t){var n=e.classes,s=e.className,o=e.component,l=void 0===o?"div":o,d=Object(r.a)(e,["classes","className","component"]);return i.createElement(l,Object(a.a)({className:Object(c.a)(n.root,s),ref:t},d))}));t.a=Object(s.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(o)},462:function(e,t,n){"use strict";var a=n(21),r=n(56),i=n(10),c=n(1),s=n(467),o=n(9),l=n.n(o),d=Object(c.forwardRef)((function(e,t){var n=e.children,c=e.title,o=void 0===c?"":c,l=Object(r.a)(e,["children","title"]);return Object(i.jsxs)("div",Object(a.a)(Object(a.a)({ref:t},l),{},{children:[Object(i.jsx)(s.a,{children:Object(i.jsx)("title",{children:o})}),n]}))}));d.propTypes={children:l.a.node.isRequired,title:l.a.string},t.a=d},491:function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(9),c=n.n(i);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=Object(a.forwardRef)((function(e,t){var n=e.color,a=void 0===n?"currentColor":n,i=e.size,c=void 0===i?24:i,l=o(e,["color","size"]);return r.a.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),r.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));l.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},l.displayName="Search",t.a=l},576:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(453),i=n(355),c=n(342),s=n(1),o=n(55),l=n(89),d=n(462),u=n(147),b=n(7),j=n.n(b),m=n(21),h=n(79),p=n(91),f=n(351),x=n(349),O=n(330),g=n(353),v=n(348),w=n(357),y=n(328),C=n(471),N=n(27),k=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.branch})),n=Object(o.c)((function(e){return e.kitchen})),r=t&&t.branches||[],i=Object(o.c)((function(e){return e.user}))||{},d=Object(s.useRef)({}),u=Object(s.useRef)({newPassword:""}),b=Object(s.useState)({id:"",name:"",userName:"",branchId:"",branchName:"",edit:!1}),k=Object(p.a)(b,2),S=k[0],P=k[1],E=new RegExp("^(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{5,})"),W={newUserName:{required:!0,remoteValidate:!0,url:"".concat(window.restAppConfig.api,"user/validate?username"),errorMessages:{required:"Username is Required",remoteValidate:"Username already Taken"}},newPassword:{required:!S.id,regex:E,errorMessages:{required:"Password is Required",regex:"Password should contain at least 1 numeric,special character and be of atleast 5 characters"}},passwordConfirm:{required:!u.current.newPassword.length,compareWith:"newPassword",errorMessages:{required:"Please confirm the password",compareWith:"Password doesn't match"}},name:{required:!0,errorMessages:{required:"Full name is Required"}},branchId:{required:!0,errorMessages:{required:"Please select a branch"}}},I=function(){var e=Object(h.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},e.t0=j.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=18;break}if(a=e.t1.value,!W[a]||!W[a].required){e.next=16;break}if(t[a]||(n[a]=W[a].errorMessages.required),!W[a].remoteValidate){e.next=14;break}if(u.current[a]===t[a]&&!d.current[a]){e.next=14;break}return r="".concat(W[a].url,"=").concat(t[a]),S.id&&(r="".concat(r,"&id=").concat(S.id)),e.next=12,Object(N.e)(r);case 12:e.sent||(n[a]=W[a].errorMessages.remoteValidate);case 14:W[a].regex&&(W[a].regex.test(t[a])||(n[a]=W[a].errorMessages.regex)),W[a].compareWith&&t[a]!==t[W[a].compareWith]&&(n[a]=W[a].errorMessages.compareWith);case 16:e.next=2;break;case 18:return d.current=n,u.current=Object(m.a)(Object(m.a)({},u.current),{},{values:t}),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){e(Object(l.l)())}),[]),Object(s.useEffect)((function(){var e=n.selectedKitchen;e&&P(Object(m.a)(Object(m.a)({},e),{},{newUserName:e.userName}))}),[t.selectedBranch]),Object(a.jsx)(C.a,{enableReinitialize:!0,initialValues:Object(m.a)(Object(m.a)({},S),{},{newPassword:S.password,newUserName:S.userName?S.userName:i.user.name.split(" ").join("-kitchen-")}),validate:I,onSubmit:function(t){t.branchName=r.reduce((function(e,n){return n.branchId===t.branchId&&e.push(n.name),e}),[])[0],e(Object(l.b)(t))},children:function(t){var n=t.errors,i=t.handleBlur,s=t.handleChange,o=t.handleSubmit,d=t.isSubmitting,u=t.touched,b=t.values;return Object(a.jsx)("form",{onSubmit:o,autoComplete:"off",noValidate:!0,children:Object(a.jsxs)(f.a,{children:[Object(a.jsx)(x.a,{title:S.id?"Edit Kitchen":"Add new kitchen"}),Object(a.jsx)(O.a,{}),Object(a.jsx)(g.a,{children:Object(a.jsxs)(v.a,{container:!0,spacing:3,children:[Object(a.jsx)(v.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(w.a,{error:Boolean(u.name&&n.name),fullWidth:!0,helperText:u.name&&n.name,label:"Kitchen Name",margin:"normal",name:"name",onBlur:i,onChange:s,value:b.name,variant:"outlined"})}),Object(a.jsx)(v.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(w.a,{error:Boolean(u.newUserName&&n.newUserName),fullWidth:!0,helperText:u.newUserName&&n.newUserName,label:"Username",margin:"normal",name:"newUserName",onBlur:i,onChange:s,value:b.newUserName,variant:"outlined"})}),Object(a.jsx)(v.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(w.a,{error:Boolean(u.newPassword&&n.newPassword),fullWidth:!0,helperText:u.newPassword&&n.newPassword,label:"Password",margin:"normal",name:"newPassword",onBlur:i,onChange:s,value:b.newPassword,variant:"outlined",type:"password"})}),Object(a.jsx)(v.a,{item:!0,md:6,xs:12,children:Object(a.jsx)(w.a,{error:Boolean(u.passwordConfirm&&n.passwordConfirm),fullWidth:!0,helperText:u.passwordConfirm&&n.passwordConfirm,label:"Password",margin:"normal",name:"passwordConfirm",onBlur:i,onChange:s,value:b.passwordConfirm,variant:"outlined",type:"password"})}),Object(a.jsx)(v.a,{item:!0,md:6,xs:12,children:Object(a.jsxs)(w.a,{fullWidth:!0,label:"Select Branch",name:"branchId",error:Boolean(u.branchId&&n.branchId),helperText:u.branchId&&n.branchId,onChange:s,required:!0,select:!0,SelectProps:{native:!0},value:b.branchId,variant:"outlined",children:[Object(a.jsx)("option",{value:""},""),r.map((function(e){return Object(a.jsx)("option",{value:e.branchId,children:e.name},e.branchId)}))]})})]})}),Object(a.jsx)(O.a,{}),Object(a.jsxs)(c.a,{display:"flex",justifyContent:"space-between",p:2,children:[Object(a.jsx)(y.a,{color:"secondary",onClick:function(){e(Object(l.z)(!1)),e(Object(l.J)({}))},type:"button",variant:"contained",children:"Go back"}),Object(a.jsx)(y.a,{color:"primary",type:"submit",disabled:d,variant:"contained",children:S.id?"Update Kitchen":"Add Kitchen"})]})]})})}})},S=n(350),P=n(130),E=n(329),W=n(16),I=n(160),B=function(e){var t=e.kitchen,n=Object(o.b)(),r=Object(W.g)(),i=Object(o.c)((function(e){return e.kitchen})),s=i&&i.selectedKitchen||{},d=function(e){n(Object(l.J)(e)),r("/app/kitchen",{replace:!0})};return Object(a.jsx)(I.b,{children:s.id?Object(a.jsx)(k,{}):Object(a.jsxs)(f.a,{children:[Object(a.jsxs)(g.a,{onClick:function(){d(t)},children:[Object(a.jsx)(E.a,{align:"center",color:"textPrimary",gutterBottom:!0,variant:"h4",children:t.name}),Object(a.jsx)(E.a,{align:"center",color:"textPrimary",variant:"body1",children:t.branchName})]}),Object(a.jsx)(c.a,{flexGrow:1}),Object(a.jsx)(O.a,{}),Object(a.jsx)(c.a,{p:2,children:Object(a.jsxs)(v.a,{container:!0,justify:"space-between",spacing:2,children:[Object(a.jsx)(y.a,{onClick:function(){d(t)},color:"primary",variant:"contained",children:"View"}),Object(a.jsx)(y.a,{onClick:function(){!function(e){n(Object(l.J)(e))}(t)},color:"primary",variant:"contained",children:"Edit"}),Object(a.jsx)(y.a,{onClick:function(){!function(e){n(Object(l.h)(e))}(t)},color:"secondary",variant:"contained",children:"Delete"})]})})]})})},T=n(491),R=Object(r.a)((function(e){return{root:{minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},tableCard:{height:"100%"}}})),M=function(){var e=Object(o.b)(),t=R(),n=Object(o.c)((function(e){return e.kitchen})),r=n&&n.kitchens||[],u=Object(s.useState)([]),b=Object(p.a)(u,2),j=b[0],m=b[1];Object(s.useEffect)((function(){m(r),e(Object(l.J)({}))}),[r]);return Object(a.jsx)(d.a,{className:t.root,title:"Kitchens",children:r.length?Object(a.jsxs)(i.a,{maxWidth:!1,children:[Object(a.jsx)(c.a,{mt:3,children:Object(a.jsx)(f.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsx)(c.a,{children:Object(a.jsx)(w.a,{fullWidth:!0,InputProps:{startAdornment:Object(a.jsx)(S.a,{position:"start",children:Object(a.jsx)(P.a,{fontSize:"small",color:"action",children:Object(a.jsx)(T.a,{})})})},placeholder:"Search with kitchen name",variant:"outlined",onChange:function(e){var t;t=e.target.value.toLowerCase(),m(r.filter((function(e){return e.name.toLowerCase().includes(t)})))}})})})})}),Object(a.jsx)(c.a,{mt:3,children:Object(a.jsx)(v.a,{container:!0,spacing:3,children:j.map((function(e){return Object(a.jsx)(v.a,{item:!0,lg:4,md:6,xs:12,children:Object(a.jsx)(B,{className:t.tableCard,kitchen:e})},e.id)}))})})]}):Object(a.jsxs)(E.a,{style:{margin:"1rem"},variant:"h4",children:["No kitchens added yet please",Object(a.jsx)(y.a,{onClick:function(){return e(Object(l.z)(!0))},color:"primary",variant:"contained",children:"Add Kitchen"})]})})},q=n(56),z=n(13),U=Object(r.a)((function(e){return{root:{},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),K=function(e){var t=e.className,n=Object(q.a)(e,["className"]),r=U(),i=Object(o.b)();return Object(a.jsx)("div",Object(m.a)(Object(m.a)({className:Object(z.a)(r.root,t)},n),{},{children:Object(a.jsx)(c.a,{display:"flex",justifyContent:"flex-end",children:Object(a.jsx)(y.a,{onClick:function(){return i(Object(l.z)(!0))},color:"primary",variant:"contained",children:"Add Kitchen"})})}))},L=Object(r.a)((function(e){return{root:{minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}}));t.default=function(){var e=L(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.app})),r=Object(o.c)((function(e){return e.kitchen}));return n.alert.show&&(Object(u.a)({message:n.alert.message}),t(Object(l.x)())),r&&r.new&&t(Object(l.o)()),Object(s.useEffect)((function(){t(Object(l.o)())}),[]),Object(a.jsx)(d.a,{className:e.root,title:"Kitchens",children:Object(a.jsx)(i.a,{maxWidth:!1,children:r&&r.add?Object(a.jsx)(c.a,{mt:3,children:Object(a.jsx)(k,{})}):Object(a.jsxs)(c.a,{mt:3,children:[Object(a.jsx)(K,{}),Object(a.jsx)(M,{})]})})})}}}]);
//# sourceMappingURL=13.4915a267.chunk.js.map